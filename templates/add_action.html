{% extends "base.html" %}
{% block content %}
    <h4 class="center-align blue-grey-text text-darken-3">ADD ACTION</h4>
    <!--New action input form-->
        <!--form-->
    <div class="row">
        <form class="col s12  m8 offset-m2" method="POST" action="{{url_for('add_action')}}">
        <div class="row card-panel grey lighten-5">
                <!--1. input field: ref number, automatic-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-list-ol prefix blue-grey-text"></i>
                        <input disabled value="{{action_number}}" id="action_refno" name="action_refno" type="text" class="validate">
                        <label for="action_refno">Action number</label>
                    </div>
                </div>
                <!--2. input field: logdate, automatic-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-calendar-alt prefix blue-grey-text"></i>
                        <input id="action_logdate" name="action_logdate" type="text" class="datepicker validate" required>
                        <label for="action_logdate" >Log Date</label>
                    </div>
                </div>
                <!--3. input field: action, text-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-ellipsis-h prefix blue-grey-text"></i>
                        <textarea id="action_name" name="action_name" class="materialize-textarea validate" data-length="120" required></textarea>
                        <label for="action_name">Action</label>
                    </div>
                </div> 
                <!--4. input field: deadline, date picker-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-calendar-check prefix blue-grey-text"></i>
                        <input id="action_due" name="action_due" type="text" class="datepicker validate" required>
                        <label for="action_due" >Due Date</label>
                    </div>
                </div>
                <!--5. input field: accountable, select component-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-user prefix blue-grey-text"></i>
                        <select id="action_accountable" name="action_accountable" class="materialize-textarea validate" required>
                            <option value="" disabled selected></option>
                            {%for user in users %}
                                <option value="{{user.user_name}}">{{user.user_name}}</option>
                            {%endfor%}
                        </select>
                        <label for="action_accountable">Accountable</label>
                    </div>
                </div>
                <!--6. input field: department, select component-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-building prefix blue-grey-text"></i>
                        <select id="action_dept" name="action_dept" class="validate" required>
                            <option value="" disabled selected></option>
                            {%for dept in depts %}
                                <option value="{{dept.dept_name}}">{{dept.dept_name}}</option>
                            {%endfor%}
                        </select>
                        <label for="action_dept">Department</label>
                    </div>
                </div>
                <!--7. input field: meeting, select component-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-users-cog prefix blue-grey-text"></i>
                        <select id="action_meeting" name="action_meeting" class="validate" required>
                            <option value="" disabled selected></option>
                            {%for meeting in meetings%}
                                <option value="{{meeting.meeting_name}}">{{meeting.meeting_name }}</option>
                            {%endfor%}
                        </select>
                        <label for="action_meeting">Meeting</label>
                    </div>
                </div>
                <!--8. input field: workstream, select-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-stream prefix blue-grey-text"></i>
                        <select id="action_workstream" name="action_workstream" class="validate" required>
                            <option value="" disabled selected></option>
                            {%for workstream in workstreams%}
                                <option value="{{workstream.workstream_name}}">{{workstream.workstream_name }}</option>
                            {%endfor%}
                        </select>
                        <label for="action_workstream">Workstream</label>
                    </div>
                </div>
                <!--9. Current status - select-->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-medal prefix blue-grey-text"></i>
                        <select id="action_status" name="action_status" class="validate" required>
                            <option value="" disabled selected></option>
                            {%for status in completionstatus%}
                                <option value="{{status.completionstatus_name}}">{{status.completionstatus_name }}</option>
                            {%endfor%}
                        </select>
                        <label for="action_status">Completion Status</label>
                    </div>
                </div>
                <!--buttons-->
                <div class="row">
                    <!--Cancell Button-->
                    <div class="col s6">
                        <a href="{{url_for('user_dashboard', username=session["user"])}}" class="waves-effect waves-red right btn-flat ">CANCEL</a>
                    </div>
                    <!--Add action Button-->
                    <div class="row">
                        <div class="col s6 right">
                            <button type="submit" class="btn blue-grey text-shadow">SUBMIT</button> 
                        </div>
                    </div>
                </div>               
           
        
            </div>
        </form>
    </div>
{% endblock %}
